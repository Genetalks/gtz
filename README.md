# GTX Compressor  （Technique preview version ）

Powered by GTXLab of Genetalks.

technique preview download URL:https://github.com/Genetalks/gtz/archive/0.2.2i_tech_preview.tar.gz

[中文说明](https://github.com/Genetalks/gtz/blob/master/README_chs.md "Markdown").

## System Overview

GTX Compressor is a fastq compressor and also can be used as a generic data compression system, developed by GTX Lab of Genetalks Cooperation, aiming at directly compressing large-scale data to the cloud (data with size up to several GB or even several terabytes, especially bioinformatics data). GTX Compressor can rapidly compress any gene sequencing files and directories with high compression rate, and generate a single compressed data files, thus facilitating the data storage, remote transmission, and verification. Different from the previous compression tools, GTX Compressor system focuses on **high compression rate, high speed, and convenient data extraction.**

GTX Compressor compresses the 33 qualities of FASTQ files (NA12878_1.fastq), with the size of approximately 200GB, to 19% of the original size, in less than 13 minutes, over the AWS R4.8xlarge machine (or the same configuration server) at a speed of more than 256MB/s. As the FASTQ data which is producted by X10 with only **7 qualities, GTX Compressor can gains 5.5% compression.**

**GTX Compressor provides "to the cloud" function**. Out of commercial consideration, users not only need to store the massive data generated by gene sequencing locally, but also need to quickly and steadily transfer the data to the cloud. GTX Lab has developed gtransfer, a tool that provides long-distance and ultra-long-distance data transmission services under normal bandwidth conditions, enabling easy end-to-end or end-to-cloud data transmission.

## System highlights

GTX Compressor system features:

- **high compression ratio:** The system implements Context Model compression technology, with a variety of optimized predicting model, and balancing the system concurrent and memory resources consumption, thus achieving a high compression rate. For FASTQ files, GTX compressor gains up to 5.58% the compression rate.

- **High performance:** GTX compressor fully exploits the concurrency of the CPU, the new Haswell CPU architecture, and the computing power of the new instructions such as AVX2, BMI2, which makes GTX compressor gain high compression speed even on a common server, with the throughout of 114MB/s for the whole process of compression and transmission.

- **high-speed to the cloud:** GTX gtransfer support long-distance and ultra-long-distance data transmission services under normal bandwidth conditions, enabling easy end-to-end or end-to-cloud data transmission.

## System environment requirements
- 64-bit Linux system (CentOS 6.5 or above, or Ubuntu 12.04 or more, and with Ububtu 14.04 and above 64-bit operating system recommended)
- the host system with 4-core or more, and the minimum 8GB memory (to achieve maximum concurrency, the host system with 32-core 64GB memory is recommended, or that has the same configuration with the AWS C4.8xlarge machine)


## Installation Instruction
GTX compressor system can be directly used by unpacking, and does not rely on any other library.
The download package contains two tar.gz packages for the ubuntu version and the centos version respectly. Choose the corresponding tar.gz package, extract, and use gtz command for the extraction gtz_0.2.2i_ubuntu_tech_preview directory or gtz_0.2.2i_centos_tech_preview directory.

## Command line instructions

./gtz -h, and get command line help instructions.

```
USAGE: 
./gtz   [--gz]  [--rbin-path] [--outdir] [--list] [-e <string>] [-c] 
          [-d]  [-a] [-o <string>] [--] [--version]
          [-h] <file names> ...
```


General Options Instruciton:
- -h: Outputs the above command line help information
- \-\- version: Outputs the version number of the gt_compress program

Compression Option Description:
- -a: append mode, the original file will be appended to the compressed data
- -o: Specifies the compressed file name. When not specified, the default is out.gtz
- file_name: the file or directory need to be compressed. If not specified, the system will read data from the standard input.

Decompression Option Description:
- -d, \-\-decode: decompression mode, required
- \-\-gz: extract to .gz format.If not specified,the default output is .fastq format
- \-\-rbin-path: Specify the path of the rbin file.The system default path is ~/.config/gtz
- \-\-outdir: Specify the output directory of the extracted file 
- \-\-list: List all compressed file names in the archive, used together with the -d parameter
- -e, \-\-extract: decompresses and extract the target files specified (The file names are separated by ":") in the compressed file. Must used together with the -d parameter
- -c, \-\-stdout: output to console(standard output). It can only be use for decompression.
- file_name: the file to be decompressed

### Examples:


### Compression examples

		./gtz  -o  output.gtz  source.fastq  									  Compress the original file source.fastq to output.gtz
		./gtz  -o  output.gtz  source.fastq.gz									Compress the original file source.fastq.gz to output.gtz
		./gtz  -o  output.gtz  source1.fastq  source2.fastq     Compress multiple original files source1.fastq,source2.fastq into output.gtz (Support multiple file compression to a single compressed package)
		./gtz  -o  output.gtz  source_diretory									Compress the directory source_directory to output.gtz (Supports compression of the directory to a compressed package)
		./gtz  -a -o output.gtz source3.fastq                   Compress the file source3.fastq in an append manner to the existing output.gtz
	


### Decompression examples

		./gtz  -d  output.gtz                                   Decompress output.gtz,the default output is fastq format
		./gtz  -d  output.gtz --gz                              Decompress output.gtz ,decompress it to .gz format
		./gtz  -d  output.gtz --outdir  output_path             Decompress output.gtz into the output_path directory
		./gtz  -d  output.gtz --rbin-path  rbin_path            Decompress the enterprise version of high-compression package output.gtz,and specify the path to the corresponding rbin file
		./gtz  -d  output.gtz --list														View the list of files in the compressed package output.gtz	


    Decompress several files separately:

    # -e denotes the target decompression files, seperated by ":"
    ./gtz -e source.fastq:/A/source2.fastq -d gtz/out.gtz

    Decompress the target firles to the tube:

    # -c denote output files to the console; -e denotes the target decompression file.
    ./gtz -c -e source.fastq  -d gtz/out.gtz > myfile.txt
    or
    ./gtz -c -e source.fastq  -d gtz/out.gtz | gzip -c > myfastq.gz


## contact us

If you have any questions, feel free to contact: gen.li@genetalks.com, or commit an issus on Github.

